@tailwind base;
@tailwind components;
@tailwind utilities;

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fade-in-up 0.3s ease-out;
}

/* Print styles */
@media print {
  /* Hide header controls when printing */
  .print-hide {
    display: none !important;
    visibility: hidden !important;
    height: 0 !important;
    width: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    opacity: 0 !important;
    position: absolute !important;
    left: -9999px !important;
  }

  /* Avoid page breaks inside these elements - disabled to allow first tier to start on first page */
  .print-avoid-break {
    page-break-inside: auto;
    break-inside: auto;
  }

  /* Prefer to avoid breaks before these elements */
  .print-avoid-break-before {
    page-break-before: auto;
    break-before: auto;
  }

  /* Force page break before element if needed */
  .print-break-before {
    page-break-before: always;
    break-before: always;
  }

  /* Remove backgrounds for better printing */
  body {
    background: white !important;
    padding: 0 !important;
  }

  /* Remove outer padding */
  body > div {
    padding: 0 !important;
  }

  /* Remove all background colors - black and white only */
  * {
    background: white !important;
    background-color: white !important;
    color: black !important;
  }

  /* Adjust margins for print */
  @page {
    margin: 0.75in;
  }

  /* Print-specific header styling */
  .print-header {
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
    margin: 0 !important;
    margin-bottom: 1rem !important;
    background: white !important;
  }

  .print-main-heading {
    font-size: 1.75rem !important;
    font-weight: 700 !important;
    margin: 0 !important;
    padding: 0 !important;
    border: none !important;
  }

  /* QR code styling for print */
  .print\:block {
    display: block !important;
  }

  .hidden.print\:block {
    display: block !important;
  }

  .print-qr-code {
    display: flex !important;
    flex-direction: column !important;
    align-items: flex-end !important;
    margin-top: 2rem !important;
    text-align: right !important;
  }

  .print-qr-code svg {
    display: block !important;
  }

  .print-qr-code p {
    margin-top: 0.25rem !important;
    text-align: center !important;
    width: 80px !important;
  }

  /* Print-specific tier styling */
  .print-tier {
    border: none !important;
    background: white !important;
    padding: 0 !important;
    margin: 0 !important;
    margin-bottom: 1rem !important;
    min-height: 0 !important;
    height: auto !important;
    max-height: none !important;
    page-break-inside: auto !important;
    break-inside: auto !important;
  }

  .print-tier > * {
    background: white !important;
    border: none !important;
  }

  .print-tier-heading {
    font-size: 1.1rem !important;
    font-weight: 700 !important;
    margin: 0 !important;
    margin-bottom: 0.5rem !important;
    padding: 0 !important;
    padding-bottom: 0.25rem !important;
    border-bottom: 2px solid #333 !important;
    background: white !important;
  }

  /* Print-specific value list styling */
  .print-value-list {
    list-style: none !important;
    padding: 0 !important;
    margin: 0 !important;
    display: block !important;
    gap: 0 !important;
  }

  .print-value-item {
    display: list-item !important;
    margin-left: 1.5rem !important;
    margin-bottom: 0.35rem !important;
    line-height: 1.4 !important;
    page-break-inside: avoid;
    break-inside: avoid;
    background: none !important;
    border: none !important;
    padding: 0 !important;
    box-shadow: none !important;
    min-height: auto !important;
  }

  .print-value-item::before {
    content: "• " !important;
    margin-left: -1rem !important;
    font-weight: bold !important;
  }

  .print-value-name {
    font-weight: 600 !important;
    display: inline !important;
  }

  .print-value-description {
    color: #555 !important;
    font-style: italic !important;
    display: inline !important;
    font-size: 0.9em !important;
  }

  .print-value-description::before {
    content: " — " !important;
  }

  /* Hide category sidebar on print */
  .print-hide-sidebar {
    display: none !important;
    visibility: hidden !important;
    height: 0 !important;
    max-height: 0 !important;
    min-height: 0 !important;
    width: 0 !important;
    max-width: 0 !important;
    min-width: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    opacity: 0 !important;
    position: absolute !important;
    top: 0 !important;
    left: -9999px !important;
    bottom: auto !important;
    right: auto !important;
    overflow: hidden !important;
  }

  /* Make main content full width on print */
  .print-full-width {
    grid-column: 1 / -1 !important;
  }

  /* Remove min-height constraints */
  * {
    min-height: 0 !important;
  }

  /* Compact main container */
  .min-h-screen {
    min-height: 0 !important;
  }

  /* Remove extra gaps in grid */
  .grid {
    gap: 0 !important;
  }

  /* Compact space-y */
  .space-y-4 > * + * {
    margin-top: 0.75rem !important;
  }

  /* Remove all flex display in print */
  .flex {
    display: block !important;
  }

  /* Ensure 4-column grid becomes single column on print */
  .lg\:grid-cols-4 {
    grid-template-columns: 1fr !important;
  }

  /* Remove fixed heights that cause whitespace */
  .h-screen,
  .h-full {
    height: auto !important;
    max-height: none !important;
  }

  /* Ensure containers take minimal space */
  .max-w-7xl {
    max-width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Remove rounded corners and shadows */
  .rounded-lg,
  .shadow-lg {
    border-radius: 0 !important;
    box-shadow: none !important;
  }

  /* Make sure the header takes minimal space */
  .print-header > * {
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Allow grid and its children to break */
  .grid,
  .space-y-4,
  .lg\:col-span-2,
  .print-full-width {
    page-break-inside: auto !important;
    break-inside: auto !important;
  }

  /* Firefox-specific fixes */
  * {
    overflow: visible !important;
    transform: none !important;
  }

  /* Force everything to display: block for Firefox */
  .min-h-screen,
  .max-w-7xl,
  .grid,
  .space-y-4,
  .lg\:col-span-2,
  .print-full-width,
  .print-header,
  .print-tier {
    display: block !important;
    position: static !important;
    float: none !important;
  }

  /* Ensure everything can break in Firefox */
  body, body * {
    page-break-inside: auto !important;
    break-inside: auto !important;
    orphans: 1 !important;
    widows: 1 !important;
  }

  /* Only value items should avoid breaking */
  .print-value-item {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }
}
